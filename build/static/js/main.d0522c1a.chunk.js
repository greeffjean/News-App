(this["webpackJsonpnews-app"]=this["webpackJsonpnews-app"]||[]).push([[0],{63:function(e,t,a){},69:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);var n=a(6),r=a(0),i=a.n(r),s=a(9),c=a.n(s),o=(a(63),a(50)),l=a(29),u=a(30),h=a(36),p=a(35),d="defde18384ea44d1b5cb7f73809c12d9";var j=a(21),b=a(113),O=a(107),f=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=window.history.state;window.history.state&&this.getRequest(t.input,t.filterDate),window.onpopstate=function(){if("/"==window.location.pathname)e.resetApp();else{var t=window.location.pathname.toString(),a=(t=t.substring(1,t.length)).split("/",1),n=t.split("/",2);e.getRequest(a,n)}}}},{key:"handleSubmit",value:function(e){var t=this.props,a=t.input,n=t.filterDate,r=e.term?e.term:a;window.history.pushState({input:r,filterDate:n},"/".concat(r,"/").concat(n),"/".concat(r,"/").concat(n)),this.getRequest(r,n)}},{key:"handleChange",value:function(e,t){this.props.dispatch({type:"HANDLE_CHANGE",payload:{input:"text"==t?e.target.value:this.props.input,filterDate:"date"==t?e.target.value:this.props.filterDate}})}},{key:"handleLoad",value:function(){this.props.dispatch({type:"HANDLE_LOAD"})}},{key:"getRequest",value:function(e,t){var a=this;this.handleLoad(),function(e,t){var a="http://newsapi.org/v2/everything?"+"q=".concat(e,"&")+"from=".concat(t,"&")+"sortBy=popularity&"+"apiKey=".concat(d);return new Promise((function(e){var t=new Request(a,{headers:{Authorization:"Bearer ".concat(d)}});fetch(t,{headers:{Authorization:"Bearer ".concat(d)}}).then((function(t){console.log(t),e(t.json())})).catch((function(t){e(t),console.log(t)}))}))}(e,t).then((function(e){console.log(e),a.props.dispatch({type:"HANDLE_SUBMIT",payload:{articles:e.articles?e.articles:null,message:e.message}}),a.resetInput()})).catch((function(e){console.log(e)}))}},{key:"resetApp",value:function(){this.props.dispatch({type:"RESET_APP"})}},{key:"resetInput",value:function(){this.props.dispatch({type:"RESET_INPUT"})}},{key:"render",value:function(){var e=this,t=window.history.state;return Object(n.jsxs)("div",{className:"search-bar-wrapper",children:[Object(n.jsx)("div",{className:t?"search-bar active":"search-bar",children:Object(n.jsxs)("div",{className:this.props.loading?"content-wrapper loading":"content-wrapper",children:[Object(n.jsxs)("div",{className:"content-headings",children:[Object(n.jsx)("h1",{children:"Discover"}),Object(n.jsx)("h2",{children:"Headlines"})]}),Object(n.jsxs)("div",{className:"content-input",children:[Object(n.jsx)(b.a,{onChange:function(t){return e.handleChange(t,"text")},id:"standard-basic",name:"input",label:"Search Headlines",value:this.props.input}),this.props.searchButton&&Object(n.jsxs)("div",{className:"filter-search-wrapper",children:[Object(n.jsx)(b.a,{onChange:function(t){return e.handleChange(t,"date")},id:"date",name:"filterDate",label:"Date",type:"date",InputLabelProps:{shrink:!0}}),Object(n.jsx)(O.a,{variant:"contained",onClick:function(t){return e.handleSubmit(t)},children:"Search"})]})]})]})}),!this.props.userHasSearched&&!this.props.loading&&Object(n.jsxs)("div",{className:"home-options",children:[Object(n.jsx)(O.a,{onClick:function(t){return e.handleSubmit({term:"covid"})},className:"headlines",variant:"contained",children:"COVID Headlines"}),Object(n.jsx)(O.a,{onClick:function(t){return e.handleSubmit({term:"FIFA"})},className:"latest",variant:"contained",children:"FIFA Headlines"})]})]})}}]),a}(r.Component),g=Object(j.b)((function(e){return{articles:e.articles,loading:e.loading,error:e.error,searchButton:e.searchButton,input:e.input,filterDate:e.filterDate,userHasSearched:e.userHasSearched}}))(f),v=a(114),m=a(108),y=a(109),w=a(110),x=a(115),D=a(111),E=a(112),N=a(38),S=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return Object(n.jsxs)("section",{children:[this.props.loading&&Object(n.jsx)("div",{className:"circular-progress",children:Object(n.jsx)(m.a,{color:"secondary"})}),this.props.error&&!this.props.loading&&Object(n.jsx)(v.a,{severity:"error",children:this.props.error}),this.props.articles&&!this.props.loading&&Object(n.jsx)("div",{className:"articles-wrapper",children:this.props.articles.length&&this.props.articles.map((function(e){return Object(n.jsxs)(y.a,{children:[Object(n.jsx)(w.a,{avatar:Object(n.jsx)(x.a,{"aria-label":"initial",children:e.author?e.author.charAt(0):"N"}),title:e.title,subheader:e.publishedAt}),Object(n.jsx)(D.a,{image:e.urlToImage,title:"Paella dish"}),Object(n.jsxs)(E.a,{children:[Object(n.jsx)(N.a,{color:"pink",component:"h4",children:e.source.name}),Object(n.jsx)(N.a,{variant:"body2",color:"textSecondary",component:"p",children:e.description})]})]})}))})]})}}]),a}(r.Component),_=Object(j.b)((function(e){return{articles:e.articles,loading:e.loading,error:e.error,searchButton:e.searchButton,input:e.input,filterDate:e.filterDate}}))(S),A=a(31),T=a(14),H="HANDLE_CHANGE",B="HANDLE_LOAD",C="ERROR",I="SEARCH_BUTTON",k="INPUT",L="FILTER_DATE",R="RESET_INPUT",P="HANDLE_SUBMIT",F="RESET_APP",U={articles:null,loading:!!window.history.state,error:null,searchButton:!1,input:"",filterDate:"",userHasSearched:!1},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:return Object(T.a)(Object(T.a)({},e),{},{articles:t.payload.articles,loading:!1,error:t.payload.message?t.payload.message:null,userHasSearched:!0});case H:return Object(T.a)(Object(T.a)({},e),{},{input:t.payload.input,searchButton:!!t.payload,filterDate:t.payload.filterDate});case B:return Object(T.a)(Object(T.a)({},e),{},{loading:!e.loading});case C:return{error:null};case I:return{searchButton:null};case k:return{input:null};case L:return{filterDate:null};case R:return Object(T.a)(Object(T.a)({},e),{},{searchButton:!1,input:"",filterDate:""});case F:return{articles:null,loading:!!window.history.state,error:null,searchButton:!1,input:"",filterDate:"",userHasSearched:!1};default:return e}},M=Object(A.b)(q,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());a(69);var X=function(){var e=Object(r.useState)({articles:null,loading:!1,error:null}),t=Object(o.a)(e,2);return t[0],t[1],Object(n.jsx)(j.a,{store:M,children:Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)(g,{}),Object(n.jsx)(_,{})]})})},V=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,117)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,i=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),i(e),s(e)}))};c.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(X,{})}),document.getElementById("root")),a(70).config(),V()}},[[73,1,2]]]);
//# sourceMappingURL=main.d0522c1a.chunk.js.map