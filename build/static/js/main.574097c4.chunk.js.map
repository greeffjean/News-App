{"version":3,"sources":["logo.svg","libs/useContext.js","services/news.service.js","components/SearchBar.js","components/Results.js","components/Routes.js","App.js","reportWebVitals.js","index.js"],"names":["AppContext","createContext","useAppContext","useContext","apiKey","searchTitles","query","filter","url","Promise","resolve","req","Request","headers","Authorization","fetch","then","response","console","log","json","catch","SearchBar","history","useHistory","mainState","setMainState","useState","searchButton","input","filterDate","searchState","setSearchState","handleChange","event","updateInputs","target","attributes","name","nodeValue","value","handleLoad","articles","loading","error","userHasSearched","handleSubmit","e","term","push","pathname","state","params","message","useEffect","location","window","onpopstate","className","TextField","onChange","id","label","type","InputLabelProps","shrink","Button","variant","onClick","Results","CircularProgress","color","Alert","severity","length","map","val","Card","CardHeader","avatar","Avatar","aria-label","author","charAt","title","subheader","publishedAt","CardMedia","image","urlToImage","CardContent","Typography","component","source","description","Routes","path","render","props","App","Provider","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById","require","config"],"mappings":"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","file":"static/js/main.574097c4.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.103b5fa1.svg\";","import { useContext, createContext } from \"react\";\n\nexport const AppContext = createContext(null);\n\nexport function useAppContext() {\n  return useContext(AppContext);\n}","\nconst apiKey = `defde18384ea44d1b5cb7f73809c12d9`;\n\nexport function searchTitles(query, filter) {\n\n    var url = 'http://newsapi.org/v2/everything?' +\n        `q=${query}&` +\n        `from=${filter}&` +\n        'sortBy=popularity&' +\n        `apiKey=${apiKey}`;\n\n    return new Promise(resolve => {\n        var req = new Request(url, {\n            headers: {\n                Authorization: `Bearer ${apiKey}`\n            }\n        }\n            );\n\n        fetch(req, { headers: {\n            Authorization: `Bearer ${apiKey}`\n          }})\n            .then(response => {\n                console.log(response);\n                resolve(response.json())\n\n            }).catch(response => {\n                resolve(response)\n                console.log(response)\n            })\n    })\n}\n","\nimport { useHistory } from 'react-router-dom'\nimport { useState, useEffect } from 'react';\nimport { useAppContext } from '../libs/useContext'\nimport { searchTitles } from '../services/news.service'\nimport {\n    TextField,\n    Button\n} from '@material-ui/core'\n\n\n\nfunction SearchBar() {\n\n    const history = useHistory();\n\n    const { mainState, setMainState } = useAppContext();\n    const [searchState, setSearchState] = useState({\n        searchButton: false,\n        input: \"\",\n        filterDate: \"\"\n    });\n\n\n    // Page Refreshes\n    useEffect(() => {\n        if (history.location.state) {\n\n            handleLoad();\n\n            searchTitles(\n                history.location.state.params.input,\n                history.location.state.params.filterDate\n            ).then(response => {\n                setMainState({\n                    articles: response.articles ? response.articles : null,\n                    loading: false,\n                    error: response.message ? response.message : null,\n                    userHasSearched: mainState.userHasSearched\n                });\n            }).catch(error => {\n                console.log(error);\n            });\n\n\n            setSearchState({\n                searchButton: false,\n                input: \"\",\n                filterDate: \"\"\n            });\n        }\n        else {\n            history.push({\n                pathname: `/`,\n            });\n        };\n    }, [])\n\n\n\n    // Routing\n    window.onpopstate = () => {\n\n        if (history.location.pathname == \"/\") {\n            setMainState({\n                articles: null,\n                loading: false,\n                error: null,\n                userHasSearched: false\n            });\n        }\n        else {\n\n            handleLoad()\n\n            searchTitles(\n                history.location.state.params.input,\n                history.location.state.params.filterDate\n            ).then(response => {\n                setMainState({\n                    articles: response.articles ? response.articles : null,\n                    loading: false,\n                    error: response.message ? response.message : null,\n                    userHasSearched: true\n                });\n            }).catch(error => {\n                console.log(error)\n            });\n\n            setSearchState({\n                searchButton: false,\n                input: \"\",\n                filterDate: \"\"\n            });\n        };\n\n    };\n\n\n\n    // Handle Change\n    function handleChange(event) {\n        const updateInputs = {\n            ...searchState,\n            [event.target.attributes.name.nodeValue]: event.target.value\n        };\n\n        setSearchState({\n            searchButton: event.target.value ? true : false,\n            input: updateInputs.input,\n            filterDate: updateInputs.filterDate\n        });\n    };\n\n\n\n    // Handle Load\n    function handleLoad() {\n        setMainState({\n            articles: null,\n            loading: true,\n            error: null,\n            userHasSearched: true\n        });\n    };\n\n\n\n    // Handle Submit\n    function handleSubmit(e, term) {\n\n        handleLoad();\n\n        searchTitles(term ? term : searchState.input, searchState.filterDate).then(response => {\n            console.log(response)\n            history.push({\n                pathname: `/${term ? term : searchState.input}/${searchState.filterDate}`,\n                state: {\n                    params: {\n                        input: term ? term : searchState.input,\n                        filterDate: searchState.filterDate\n                    }\n                }\n            });\n            setMainState({\n                articles: response.articles ? response.articles : null,\n                loading: false,\n                error: response.message ? response.message : null,\n                userHasSearched: true\n            });\n        }).catch(error => {\n            console.log(error)\n        });\n\n        setSearchState({\n            searchButton: false,\n            input: \"\",\n            filterDate: \"\"\n        });\n    };\n\n    return (\n\n        <div className=\"search-bar-wrapper\">\n            <div className={mainState.userHasSearched ? \"search-bar active\" : \"search-bar\"}>\n\n                <div className=\"content-wrapper\">\n                    <div className=\"content-headings\">\n                        <h1>Discover</h1><h2>Headlines</h2>\n                    </div>\n\n                    <div className=\"content-input\">\n                        <TextField\n                            onChange={(e) => handleChange(e)}\n                            id=\"standard-basic\"\n                            name=\"input\"\n                            label=\"Search Headlines\"\n                            value={searchState.input}\n                        />\n                        {searchState.searchButton &&\n                            <div className=\"filter-search-wrapper\">\n                                <TextField\n                                    onChange={(e) => handleChange(e)}\n                                    id=\"date\"\n                                    name=\"filterDate\"\n                                    label=\"Date\"\n                                    type=\"date\"\n                                    InputLabelProps={{\n                                        shrink: true,\n                                    }}\n                                />\n\n                                <Button\n                                    variant=\"contained\"\n                                    onClick={(e) => handleSubmit(e)}\n                                >\n                                    Search\n                                </Button>\n                            </div>\n                        }\n                    </div>\n                </div>\n            </div>\n\n            {!mainState.userHasSearched &&\n                <div className=\"home-options\">\n                    <Button\n                        onClick={(e) => handleSubmit(e, \"covid\")}\n                        className=\"headlines\"\n                        variant=\"contained\"\n                    >\n                        COVID Headlines\n                </Button>\n                    <Button\n                        onClick={(e) => handleSubmit(e, \"FIFA\")}\n                        className=\"latest\"\n                        variant=\"contained\"\n                    >\n                        FIFA Headlines</Button>\n                </div>\n            }\n        </div>\n    )\n}\n\nexport default SearchBar","import React from 'react';\nimport { useAppContext } from '../libs/useContext'\nimport Alert from '@material-ui/lab/Alert';\nimport {\n  CircularProgress,\n  Typography,\n  Avatar,\n  CardContent,\n  CardHeader,\n  CardMedia,\n  Card\n} from '@material-ui/core';\n\n\n\nfunction Results() {\n  const { mainState } = useAppContext()\n  \n\n    return (\n      <section>\n        {/* Loading */}\n            {mainState.loading &&\n                <div className=\"circular-progress\">\n                    <CircularProgress color=\"secondary\" />\n                </div>\n            }\n\n          {/* Error Feedback */}\n            {mainState.error &&\n                <Alert severity=\"error\">{mainState.error}</Alert>\n        }\n        \n\n          {/* Articles */}\n            { mainState.articles &&\n\n                <div className=\"articles-wrapper\">\n                    {\n                        mainState.articles.length &&\n                        mainState.articles.map(val => {\n                            return <Card>\n                                <CardHeader\n                                    avatar={\n                                        <Avatar aria-label=\"initial\">\n                                            {val.author ? val.author.charAt(0) : \"N\"}\n                                        </Avatar>\n                                    }\n                                    title={val.title}\n                                    subheader={val.publishedAt}\n                                />\n                                <CardMedia\n                                    image={val.urlToImage}\n                                    title=\"Paella dish\"\n                                />\n                                <CardContent>\n                                    <Typography color=\"pink\" component=\"h4\">\n                                        {val.source.name}\n                                    </Typography>\n\n                                    <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n                                        {val.description}\n                                    </Typography>\n                                </CardContent>\n\n                            </Card>\n                        })\n                    }\n                </div>\n\n\n            }\n\n        </section>\n    )\n}\n\nexport default Results\n","import { Route, Switch } from 'react-router-dom';\nimport Results from './Results';\n\nfunction Routes() {\n \n    return (\n            <Switch>\n            <Route\n                path=\"/\"\n                render={(props) => <Results {...props} />}\n            />\n            </Switch>\n           \n      \n    );\n}\n\nexport default Routes;\n","import logo from './logo.svg';\nimport { useState } from 'react';\nimport SearchBar from './components/SearchBar';\nimport Routes from './components/Routes';\nimport { useHistory } from 'react-router-dom'\nimport { AppContext } from './libs/useContext';\nimport './App.css';\n\n\n\nfunction App() {\n  const history = useHistory();\n  \n  const [mainState, setMainState] = useState({\n    articles: null,\n    loading: false,\n    error: null,\n    userHasSearched: history.location.state ? true : false\n  })\n\n\n  return (\n    <AppContext.Provider\n      value={{\n        mainState,\n        setMainState\n      }}\n    >\n      <div className=\"App\">\n        <SearchBar />\n        <Routes />\n      </div>\n      </AppContext.Provider>\n     \n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter as Router } from 'react-router-dom';\n\n\nReactDOM.render(\n  <Router>\n  <React.StrictMode>\n    <App />\n    </React.StrictMode>\n    </Router>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nrequire('dotenv').config()\nreportWebVitals();\n"],"sourceRoot":""}